(()=>{var e={};e.id=3,e.ids=[3],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7899:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>o,pages:()=>m,routeModule:()=>h,tree:()=>c}),a(3389),a(656),a(996);var t=a(170),l=a(5002),r=a(3876),i=a.n(r),n=a(6299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3389)),"D:\\WORK\\FREELANCER\\student-result-upgraded\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,656)),"D:\\WORK\\FREELANCER\\student-result-upgraded\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,8199)),"D:\\WORK\\FREELANCER\\student-result-upgraded\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,996,23)),"next/dist/client/components/not-found-error"]}],m=["D:\\WORK\\FREELANCER\\student-result-upgraded\\app\\admin\\page.tsx"],o="/admin/page",x={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4155:(e,s,a)=>{Promise.resolve().then(a.bind(a,2424))},2424:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>er});var t=a(7247),l=a(8964),r=a(6323);let i=(0,r.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),n=(0,r.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),d=(0,r.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),c=(0,r.Z)("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);var m=a(2522);let o=(0,r.Z)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),x=(0,r.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var h=a(8339);let u=(0,r.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),p=(0,r.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),g=(0,r.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var j=a(820),N=a(2752);let y=(0,r.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),f=(0,r.Z)("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);var b=a(9527);let v=(0,r.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var w=a(7940);let E=(0,r.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),C=(0,r.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var S=a(6372),T=a(4974);let k=(0,r.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),D=(0,r.Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),A=(0,r.Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),M=(0,r.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),z=(0,r.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var I=a(8053),R=a(7757),O=a(1365),B=a(732),Z=a(2251),F="Progress",[U,P]=(0,B.b)(F),[L,$]=U(F),q=l.forwardRef((e,s)=>{var a,l;let{__scopeProgress:r,value:i=null,max:n,getValueLabel:d=H,...c}=e;(n||0===n)&&!W(n)&&console.error((a=`${n}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=W(n)?n:100;null===i||Q(i,m)||console.error((l=`${i}`,`Invalid prop \`value\` of value \`${l}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let o=Q(i,m)?i:null,x=G(o)?d(o,m):void 0;return(0,t.jsx)(L,{scope:r,value:o,max:m,children:(0,t.jsx)(Z.WV.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":G(o)?o:void 0,"aria-valuetext":x,role:"progressbar","data-state":Y(o,m),"data-value":o??void 0,"data-max":m,...c,ref:s})})});q.displayName=F;var _="ProgressIndicator",V=l.forwardRef((e,s)=>{let{__scopeProgress:a,...l}=e,r=$(_,a);return(0,t.jsx)(Z.WV.div,{"data-state":Y(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...l,ref:s})});function H(e,s){return`${Math.round(e/s*100)}%`}function Y(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function G(e){return"number"==typeof e}function W(e){return G(e)&&!isNaN(e)&&e>0}function Q(e,s){return G(e)&&!isNaN(e)&&e<=s&&e>=0}V.displayName=_;var J=a(5008);let K=l.forwardRef(({className:e,value:s,...a},l)=>t.jsx(q,{ref:l,className:(0,J.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:t.jsx(V,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));K.displayName=q.displayName;var X=a(4049),ee=a(6991),es=l.forwardRef((e,s)=>(0,t.jsx)(Z.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));es.displayName="Label";let ea=(0,a(7972).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),et=l.forwardRef(({className:e,...s},a)=>t.jsx(es,{ref:a,className:(0,J.cn)(ea(),e),...s}));et.displayName=es.displayName;var el=a(4283);function er(){let[e,s]=(0,l.useState)(!1),[a,r]=(0,l.useState)(""),[B,Z]=(0,l.useState)(""),[F,U]=(0,l.useState)(""),[P,L]=(0,l.useState)(null),[$,q]=(0,l.useState)(2025),[_,V]=(0,l.useState)("BAC"),[H,Y]=(0,l.useState)(!1),[G,W]=(0,l.useState)(0),[Q,J]=(0,l.useState)(null),[es,ea]=(0,l.useState)(null),[er,ei]=(0,l.useState)(null),[en,ed]=(0,l.useState)(null),[ec,em]=(0,l.useState)("upload"),[eo,ex]=(0,l.useState)(null),[eh,eu]=(0,l.useState)({}),[ep,eg]=(0,l.useState)(!1),[ej,eN]=(0,l.useState)([]),[ey,ef]=(0,l.useState)(null),[eb,ev]=(0,l.useState)(!1),[ew,eE]=(0,l.useState)(!1),[eC,eS]=(0,l.useState)(null),[eT,ek]=(0,l.useState)(null),[eD,eA]=(0,l.useState)("NONE"),[eM,ez]=(0,l.useState)(10),[eI,eR]=(0,l.useState)([]),[eO,eB]=(0,l.useState)([]),[eZ,eF]=(0,l.useState)([]),[eU,eP]=(0,l.useState)(!1),[eL,e$]=(0,l.useState)(!1),eq=async()=>{try{let e=await fetch("/api/test-upload"),s=await e.json();ea(s)}catch(e){ea({status:"ERROR",error:"Failed to connect to test endpoint",details:e instanceof Error?e.message:"Unknown error"})}},e_=async()=>{try{let e=await fetch("/api/admin/region-info"),s=await e.json();ei(s)}catch(e){ei({status:"ERROR",error:"Failed to get region info",details:e instanceof Error?e.message:"Unknown error"})}},eV=async()=>{try{let e=await fetch("/api/admin/database-info"),s=await e.json();ed(s)}catch(e){ed({status:"ERROR",error:"Failed to get database info",details:e instanceof Error?e.message:"Unknown error"})}},eH=async()=>{if(!P){J({success:!1,message:"Aucun fichier s\xe9lectionn\xe9"});return}eg(!0),J(null);try{let e=new FormData;e.append("excel",P),e.append("examType",_),console.log("\uD83D\uDCE4 Sending analysis request...");let s=await fetch("/api/admin/analyze-excel",{method:"POST",body:e}),a=await s.json();s.ok&&a.success?(ex(a),eu(a.suggestedMapping||{}),em("mapping"),console.log("\uD83C\uDF89 Analysis successful!")):(J({success:!1,message:a.error||"\xc9chec de l'analyse du fichier Excel",details:a}),console.error("❌ Analysis failed:",a))}catch(e){console.error("\uD83D\uDCA5 Analysis error:",e),J({success:!1,message:"Erreur lors de l'analyse du fichier. Veuillez r\xe9essayer.",details:e instanceof Error?e.message:"Unknown error"})}finally{eg(!1)}},eY=(e,s)=>{eu(a=>({...a,[e]:"__none__"===s?"":s}))},eG=async()=>{if(!P||!eo){J({success:!1,message:"Fichier ou analyse manquante"});return}let e=eo.requiredFields?.filter(e=>["matricule","nom_complet"].includes(e.field)||"BAC"===_&&["section","moyenne","decision","ecole","etablissement"].includes(e.field)||"BREVET"===_&&["moyenne","decision","ecole","etablissement"].includes(e.field)||"CONCOURS"===_&&["score","ecole","etablissement"].includes(e.field)),s=e?.filter(e=>!eh[e.field]);if(s.length>0){J({success:!1,message:`Veuillez mapper les champs obligatoires: ${s?.map(e=>e.field).join(", ")}`});return}em("processing"),Y(!0),W(0),J(null);try{let e;let s=new FormData;s.append("excel",P),s.append("year",$.toString()),s.append("examType",_),s.append("columnMapping",JSON.stringify(eh)),"BAC"===_&&eT?(s.append("sessionType",eT),console.log(`📋 Adding session type to form data: ${eT}`)):"BAC"===_&&console.log(`⚠️ No session type selected for BAC exam type ${_} ${$}`),"CONCOURS"===_&&(s.append("threshold",eM.toString()),s.append("wilayaThresholds",JSON.stringify(eI)),console.log(`📋 Adding threshold to form data: ${eM}`),console.log(`📋 Adding wilaya thresholds:`,eI)),console.log("\uD83D\uDCE4 Sending upload request with mapping..."),console.log("Column mapping:",eh);let a=setInterval(()=>{W(e=>e>=90?(clearInterval(a),90):e+2)},1e3),t=new AbortController,l=setTimeout(()=>{t.abort(),console.log("⏰ Request aborted due to timeout")},28e4),r=await fetch("/api/admin/upload",{method:"POST",body:s,signal:t.signal});clearTimeout(l),clearInterval(a),W(100),console.log("\uD83D\uDCE5 Response received:",{status:r.status,statusText:r.statusText});try{let s=await r.text();console.log("\uD83D\uDCE5 Raw response:",s.substring(0,500)+"..."),e=JSON.parse(s)}catch(e){throw console.error("❌ Failed to parse response:",e),Error("Invalid response from server")}console.log("\uD83D\uDCE5 Parsed response:",e),r.ok?(J({success:!0,message:e.message,stats:e.stats,details:{...e.fileInfo}}),console.log("\uD83C\uDF89 Upload successful!"),eV(),setTimeout(()=>{em("upload"),ex(null),eu({}),L(null)},5e3)):(J({success:!1,message:e.error||`Erreur HTTP ${r.status}: ${r.statusText}`,details:e}),console.error("❌ Upload failed:",e))}catch(a){console.error("\uD83D\uDCA5 Upload error:",a);let e="Erreur lors du t\xe9l\xe9chargement",s={};a instanceof Error&&(s.errorName=a.name,s.errorMessage=a.message,e="AbortError"===a.name?"Timeout: Le t\xe9l\xe9chargement a pris trop de temps. V\xe9rifiez si les donn\xe9es ont \xe9t\xe9 sauvegard\xe9es en actualisant les infos de la base de donn\xe9es.":a.message?.includes("fetch")?"Erreur de connexion. V\xe9rifiez votre connexion internet et r\xe9essayez.":a.message?.includes("multipart")?"Erreur de format de fichier. Veuillez r\xe9essayer.":a.message?.includes("database")?"Erreur de base de donn\xe9es. Veuillez r\xe9essayer.":`Erreur: ${a.message}`),J({success:!1,message:e,details:s}),a instanceof Error&&"AbortError"===a.name&&(console.log("\uD83D\uDD04 Timeout detected, refreshing database info..."),setTimeout(()=>{eV()},2e3))}finally{Y(!1),setTimeout(()=>W(0),3e3)}},eW=async()=>{if(confirm(`\xcates-vous s\xfbr de vouloir effacer toutes les donn\xe9es des \xe9tudiants pour ${_} ${$} ? Cette action ne peut pas \xeatre annul\xe9e.`))try{let e=await fetch(`/api/admin/clear?year=${$}&examType=${_}`,{method:"DELETE"}),s=await e.json();e.ok?(J({success:!0,message:s.message,details:{deletedRecords:s.deletedCount}}),eV()):J({success:!1,message:s.error||"\xc9chec de l'effacement des donn\xe9es"})}catch(e){console.error("Clear data error:",e),J({success:!1,message:"Erreur r\xe9seau lors de l'effacement"})}},eQ=async()=>{eE(!0);try{let e=await fetch("/api/admin/files"),s=await e.json();eN(s.files||[])}catch(e){console.error("Error fetching files:",e),eN([])}finally{eE(!1)}},eJ=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer ce fichier ? Cette action ne peut pas \xeatre annul\xe9e.")){eS(e);try{console.log("\uD83D\uDDD1️ Attempting to delete file:",e);let s=await fetch(`/api/admin/files/${encodeURIComponent(e)}`,{method:"DELETE"});console.log("\uD83D\uDDD1️ Delete response status:",s.status);let a=await s.json();console.log("\uD83D\uDDD1️ Delete response:",a),s.ok&&a.success?(J({success:!0,message:a.message,details:a.deletedFile}),eQ(),eV()):(console.error("Delete failed:",a),J({success:!1,message:a.error||"\xc9chec de la suppression du fichier"}))}catch(e){console.error("Delete file error:",e),J({success:!1,message:"Erreur r\xe9seau lors de la suppression"})}finally{eS(null)}}},eK=async e=>{try{let s=await fetch(`/api/admin/files/${encodeURIComponent(e)}`),a=await s.json();s.ok&&a.success?(ef(a.file),ev(!0)):(console.error("Error fetching file details:",a.error||"Unknown error"),J({success:!1,message:a.error||"Erreur lors de la r\xe9cup\xe9ration des d\xe9tails du fichier"}))}catch(e){console.error("Error fetching file details:",e),J({success:!1,message:"Erreur r\xe9seau lors de la r\xe9cup\xe9ration des d\xe9tails du fichier"})}},eX=async()=>{try{let e=await fetch("/api/admin/exam-types"),s=await e.json();s.success&&eB(s.examTypes)}catch(e){console.error("Error fetching exam types:",e)}},e0=async()=>{try{let e=await fetch("/api/admin/slider-images"),s=await e.json();s.success&&eF(s.sliderImages)}catch(e){console.error("Error fetching slider images:",e)}},e2=async e=>{console.log("createExamType called with:",e);try{let s=await fetch("/api/admin/exam-types",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();console.log("API response:",a),a.success?(J({success:!0,message:"Type d'examen cr\xe9\xe9 avec succ\xe8s"}),eX()):J({success:!1,message:a.error||"Erreur lors de la cr\xe9ation du type d'examen"})}catch(e){console.error("Error creating exam type:",e),J({success:!1,message:"Erreur r\xe9seau lors de la cr\xe9ation du type d'examen"})}},e1=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer ce type d'examen ? Cette action ne peut pas \xeatre annul\xe9e."))try{let s=await fetch(`/api/admin/exam-types/${e}`,{method:"DELETE"}),a=await s.json();a.success?(J({success:!0,message:`Type d'examen supprim\xe9 avec succ\xe8s`}),eX()):J({success:!1,message:a.error||"Erreur lors de la suppression du type d'examen"})}catch(e){console.error("Error deleting exam type:",e),J({success:!1,message:"Erreur r\xe9seau lors de la suppression du type d'examen"})}},e3=async e=>{try{let s=await fetch(`/api/admin/exam-types/${e}/set-default`,{method:"PATCH"}),a=await s.json();a.success?(J({success:!0,message:`Type d'examen d\xe9fini par d\xe9faut avec succ\xe8s`}),eX()):J({success:!1,message:a.error||"Erreur lors de la d\xe9finition du type d'examen par d\xe9faut"})}catch(e){console.error("Error setting default exam type:",e),J({success:!1,message:"Erreur r\xe9seau lors de la d\xe9finition du type d'examen par d\xe9faut"})}},e4=async e=>{try{let s=await fetch("/api/admin/slider-images",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();a.success?(J({success:!0,message:"Image du slider cr\xe9\xe9e avec succ\xe8s"}),e0()):J({success:!1,message:a.error||"Erreur lors de la cr\xe9ation de l'image"})}catch(e){console.error("Error creating slider image:",e),J({success:!1,message:"Erreur r\xe9seau lors de la cr\xe9ation de l'image"})}},e5=async(e,s)=>{try{let a=await fetch(`/api/admin/slider-images/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await a.json();t.success?(J({success:!0,message:"Image du slider mise \xe0 jour avec succ\xe8s"}),e0()):J({success:!1,message:t.error||"Erreur lors de la mise \xe0 jour de l'image"})}catch(e){console.error("Error updating slider image:",e),J({success:!1,message:"Erreur r\xe9seau lors de la mise \xe0 jour de l'image"})}},e6=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer cette image du slider ?"))try{let s=await fetch(`/api/admin/slider-images/${e}`,{method:"DELETE"}),a=await s.json();a.success?(J({success:!0,message:"Image du slider supprim\xe9e avec succ\xe8s"}),e0()):J({success:!1,message:a.error||"Erreur lors de la suppression de l'image"})}catch(e){console.error("Error deleting slider image:",e),J({success:!1,message:"Erreur r\xe9seau lors de la suppression de l'image"})}},e7=async(e,s)=>{try{let a=await fetch(`/api/admin/slider-images/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!s})}),t=await a.json();t.success?(J({success:!0,message:`Image ${s?"d\xe9sactiv\xe9e":"activ\xe9e"} avec succ\xe8s`}),e0()):J({success:!1,message:t.error||"Erreur lors de la modification du statut"})}catch(e){console.error("Error toggling slider image status:",e),J({success:!1,message:"Erreur r\xe9seau lors de la modification du statut"})}};return(console.log(Q),e)?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8 sm:mb-12",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-4 space-y-4 lg:space-y-0",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center lg:justify-start",children:[t.jsx(d,{className:"h-8 w-8 sm:h-10 sm:w-10 lg:h-12 lg:w-12 text-blue-600 mr-2 sm:mr-3"}),t.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Dashboard Admin"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:gap-3",children:[(0,t.jsxs)(I.z,{onClick:eq,variant:"outline",size:"sm",className:"border-green-300 text-green-600 hover:bg-green-50 bg-transparent text-xs sm:text-sm",children:[t.jsx(c,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Test API"}),t.jsx("span",{className:"sm:hidden",children:"Test"})]}),(0,t.jsxs)(I.z,{onClick:e_,variant:"outline",size:"sm",className:"border-blue-300 text-blue-600 hover:bg-blue-50 bg-transparent text-xs sm:text-sm",children:[t.jsx(m.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Info R\xe9gion"}),t.jsx("span",{className:"sm:hidden",children:"R\xe9gion"})]}),(0,t.jsxs)(I.z,{onClick:eV,variant:"outline",size:"sm",className:"border-purple-300 text-purple-600 hover:bg-purple-50 bg-transparent text-xs sm:text-sm",children:[t.jsx(o,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Database"}),t.jsx("span",{className:"sm:hidden",children:"DB"})]}),(0,t.jsxs)(I.z,{onClick:()=>{s(!1),localStorage.removeItem("adminAuthenticated"),r(""),Z(""),em("upload"),ex(null),eu({}),L(null)},variant:"outline",size:"sm",className:"border-red-300 text-red-600 hover:bg-red-50 bg-transparent text-xs sm:text-sm",children:[t.jsx("span",{className:"hidden sm:inline",children:"D\xe9connexion"}),t.jsx("span",{className:"sm:hidden",children:"Exit"})]})]})]}),t.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-gray-600 px-4 sm:px-0",children:"T\xe9l\xe9charger et g\xe9rer les donn\xe9es des r\xe9sultats avec PostgreSQL Database"})]}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6 sm:space-y-8",children:[en&&(0,t.jsxs)(R.Zb,{className:`shadow-lg ${"SUCCESS"===en.status?"border-purple-200":"border-red-200"}`,children:[t.jsx(R.Ol,{children:(0,t.jsxs)(R.ll,{className:`flex items-center text-lg sm:text-xl lg:text-2xl ${"SUCCESS"===en.status?"text-purple-700":"text-red-700"}`,children:[t.jsx(o,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2"}),"Informations de la Base de Donn\xe9es"]})}),(0,t.jsxs)(R.aY,{children:["SUCCESS"===en.status&&en.summary&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"bg-purple-50 p-3 sm:p-4 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-purple-600 font-medium",children:"Total \xc9tudiants"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-purple-700",children:en.summary.totalStudents})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-blue-600 font-medium",children:"Total Uploads"}),t.jsx("p",{className:"text-lg sm:text-xl font-bold text-blue-700",children:en.summary.totalUploads})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-3 sm:p-4 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-green-600 font-medium",children:"Ann\xe9es/Types"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-700",children:en.summary.distinctYearTypes})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-3 sm:p-4 rounded-lg border border-orange-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-orange-600 font-medium",children:"Records Totaux"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-orange-700",children:en.summary.totalDataSize})]})]}),Object.keys(en.data).length>0&&(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Donn\xe9es par Ann\xe9e et Type:"}),t.jsx("div",{className:"grid gap-4",children:Object.entries(en.data)?.map(([e,s])=>t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h5",{className:"font-semibold text-gray-800",children:e}),t.jsxs(O.C,{variant:"secondary",children:[s.studentCount," \xe9tudiants"]})]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Moyenne g\xe9n\xe9rale:"})," ",s.averageScore,"/20"]}),s.uploadInfo&&t.jsxs(t.Fragment,{children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Fichier:"})," ",s.uploadInfo.fileName]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Upload\xe9 le:"})," ",new Date(s.uploadInfo.uploadedAt).toLocaleString()]})]})]})]},e))})]}),en.recentUploads&&en.recentUploads.length>0&&(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Uploads R\xe9cents:"}),t.jsx("div",{className:"space-y-2",children:en.recentUploads.slice(0,5)?.map(e=>t.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:e.fileName}),t.jsxs("p",{className:"text-xs text-gray-500",children:[e.examType," ",e.year," -"," ",e.studentCount," \xe9tudiants"]})]}),t.jsx("div",{className:"text-xs text-gray-400",children:new Date(e.uploadedAt).toLocaleDateString()})]},e.id))})]})]}),en.error&&(0,t.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[(0,t.jsxs)("p",{className:"text-red-600",children:[t.jsx("strong",{children:"Erreur:"})," ",en.error]}),(0,t.jsxs)("p",{className:"text-sm text-red-500 mt-2",children:["Configur\xe9: ",en.configured?"Oui":"Non"]})]})]})]}),(0,t.jsxs)(R.Zb,{className:"shadow-lg border-indigo-200",children:[(0,t.jsxs)(R.Ol,{children:[(0,t.jsxs)(R.ll,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between text-lg sm:text-xl lg:text-2xl text-indigo-700 space-y-3 sm:space-y-0",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(x,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2"}),"Gestion des Fichiers Upload\xe9s"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(I.z,{onClick:async()=>{try{await fetch("/api/admin/clear-cache",{method:"POST"}),J({success:!0,message:"Cache supprim\xe9 avec succ\xe8s"})}catch(e){J({success:!1,message:"Erreur lors de la suppression du cache"})}},variant:"outline",size:"sm",className:"border-orange-300 text-orange-600 hover:bg-orange-50 text-xs sm:text-sm",children:[t.jsx("span",{className:"hidden sm:inline",children:"Vider Cache"}),t.jsx("span",{className:"sm:hidden",children:"Cache"})]}),(0,t.jsxs)(I.z,{onClick:eQ,disabled:ew,variant:"outline",size:"sm",className:"border-indigo-300 text-indigo-600 hover:bg-indigo-50 bg-transparent text-xs sm:text-sm",children:[ew?t.jsx(h.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 animate-spin"}):t.jsx(h.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Actualiser"}),t.jsx("span",{className:"sm:hidden",children:"Refresh"})]})]})]}),t.jsx(R.SZ,{className:"text-sm sm:text-base",children:"Voir tous les fichiers upload\xe9s, d\xe9tecter les doublons et g\xe9rer les donn\xe9es."})]}),t.jsx(R.aY,{children:ew?(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[t.jsx(h.Z,{className:"h-6 w-6 animate-spin mr-2"}),t.jsx("span",{children:"Chargement des fichiers..."})]}):0===ej.length?(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(x,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:'Aucun fichier trouv\xe9. Cliquez sur "Actualiser" pour recharger.'})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-indigo-50 p-3 sm:p-4 rounded-lg border border-indigo-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-indigo-600 font-medium",children:"Total Fichiers"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-indigo-700",children:ej.length})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-blue-600 font-medium",children:"Total \xc9tudiants"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-blue-700",children:ej.reduce((e,s)=>e+s.studentCount,0)})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-3 sm:p-4 rounded-lg border border-orange-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-orange-600 font-medium",children:"Doublons D\xe9tect\xe9s"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-orange-700",children:ej.reduce((e,s)=>e+(s.duplicateCount||0),0)})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-3 sm:p-4 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-green-600 font-medium",children:"Taille Totale"}),(0,t.jsxs)("p",{className:"text-sm sm:text-base lg:text-lg font-bold text-green-700",children:[ej.reduce((e,s)=>e+.5*s.studentCount,0).toFixed(0)," ","KB"]})]})]}),t.jsx("div",{className:"hidden lg:block",children:t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)(el.iA,{children:[t.jsx(el.xD,{children:(0,t.jsxs)(el.SC,{children:[t.jsx(el.ss,{children:"Fichier"}),t.jsx(el.ss,{children:"Ann\xe9e/Type"}),t.jsx(el.ss,{children:"\xc9tudiants"}),t.jsx(el.ss,{children:"Doublons"}),t.jsx(el.ss,{children:"Taux Admission"}),t.jsx(el.ss,{children:"Taille"}),t.jsx(el.ss,{children:"Date Upload"}),t.jsx(el.ss,{children:"Actions"})]})}),t.jsx(el.RM,{children:ej?.map(e=>t.jsxs(el.SC,{children:[t.jsx(el.pj,{children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(x,{className:"h-4 w-4 mr-2 text-gray-400"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:e.fileName}),t.jsx("p",{className:"text-xs text-gray-500",children:e.id})]})]})}),t.jsx(el.pj,{children:t.jsxs("div",{className:"space-y-1",children:[t.jsxs(O.C,{variant:"outline",children:[e.examType," ",e.year]}),e.sessionType&&t.jsx("div",{className:"text-xs text-gray-600",children:"NORMALE"===e.sessionType?"Session Normale":"COMPLEMENTAIRE"===e.sessionType?"Session Compl\xe9mentaire":e.sessionType})]})}),t.jsx(el.pj,{children:t.jsxs("div",{className:"text-sm",children:[t.jsx("p",{className:"font-medium",children:e.studentCount}),t.jsxs("p",{className:"text-xs text-gray-500",children:[e.uniqueStudents," uniques"]})]})}),t.jsx(el.pj,{children:e.duplicateCount>0?t.jsxs("div",{className:"flex items-center",children:[t.jsx(u,{className:"h-4 w-4 text-orange-500 mr-1"}),t.jsx("span",{className:"text-orange-600 font-medium",children:e.duplicateCount})]}):t.jsx("span",{className:"text-green-600",children:"✓ Aucun"})}),t.jsx(el.pj,{children:t.jsxs("div",{className:"text-sm",children:[t.jsxs("p",{className:"font-medium",children:[e.admissionRate,"%"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[e.admittedCount,"/",e.studentCount]})]})}),t.jsx(el.pj,{className:"text-sm",children:e.sizeFormatted}),t.jsx(el.pj,{className:"text-sm",children:new Date(e.uploadedAt).toLocaleDateString()}),t.jsx(el.pj,{children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(I.z,{onClick:()=>eK(e.id),size:"sm",variant:"outline",className:"h-8 w-8 p-0",children:t.jsx(p,{className:"h-3 w-3"})}),t.jsx(I.z,{onClick:()=>eJ(e.id),disabled:eC===e.id,size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-red-300 text-red-600 hover:bg-red-50",children:eC===e.id?t.jsx(h.Z,{className:"h-3 w-3 animate-spin"}):t.jsx(g,{className:"h-3 w-3"})})]})})]},e.id))})]})})}),t.jsx("div",{className:"lg:hidden space-y-4",children:ej?.map(e=>t.jsx(R.Zb,{className:"border border-gray-200",children:t.jsx(R.aY,{className:"p-4",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(x,{className:"h-4 w-4 text-gray-400"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs(O.C,{variant:"outline",className:"text-xs",children:[e.examType," ",e.year]}),e.sessionType&&t.jsx("div",{className:"text-xs text-gray-600",children:"NORMALE"===e.sessionType?"Session Normale":"COMPLEMENTAIRE"===e.sessionType?"Session Compl\xe9mentaire":e.sessionType})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(I.z,{onClick:()=>eK(e.id),size:"sm",variant:"outline",className:"h-7 w-7 p-0",children:t.jsx(p,{className:"h-3 w-3"})}),t.jsx(I.z,{onClick:()=>eJ(e.id),disabled:eC===e.id,size:"sm",variant:"outline",className:"h-7 w-7 p-0 border-red-300 text-red-600 hover:bg-red-50",children:eC===e.id?t.jsx(h.Z,{className:"h-3 w-3 animate-spin"}):t.jsx(g,{className:"h-3 w-3"})})]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm text-gray-900 break-all",children:e.fileName}),t.jsx("p",{className:"text-xs text-gray-500 font-mono",children:e.id})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500 text-xs",children:"\xc9tudiants"}),t.jsx("p",{className:"font-medium",children:e.studentCount}),t.jsxs("p",{className:"text-xs text-gray-500",children:[e.uniqueStudents," uniques"]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500 text-xs",children:"Admission"}),t.jsxs("p",{className:"font-medium",children:[e.admissionRate,"%"]}),t.jsxs("p",{className:"text-xs text-gray-500",children:[e.admittedCount,"/",e.studentCount]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500 text-xs",children:"Doublons"}),e.duplicateCount>0?t.jsxs("div",{className:"flex items-center",children:[t.jsx(u,{className:"h-3 w-3 text-orange-500 mr-1"}),t.jsx("span",{className:"text-orange-600 font-medium text-sm",children:e.duplicateCount})]}):t.jsx("span",{className:"text-green-600 text-sm",children:"✓ Aucun"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500 text-xs",children:"Taille"}),t.jsx("p",{className:"font-medium",children:e.sizeFormatted}),t.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.uploadedAt).toLocaleDateString()})]})]})]})})},e.id))})]})})]}),eb&&ey&&(0,t.jsxs)(R.Zb,{className:"shadow-lg border-blue-200 mt-8",children:[t.jsx(R.Ol,{children:(0,t.jsxs)(R.ll,{className:"flex items-center justify-between text-xl text-blue-700",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(x,{className:"h-5 w-5 mr-2"}),"D\xe9tails du Fichier"]}),t.jsx(I.z,{onClick:()=>ev(!1),variant:"outline",size:"sm",children:"Fermer"})]})}),t.jsx(R.aY,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Informations du fichier"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"ID:"})," ",ey.file.id]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Taille:"})," ",(ey.file.size/1024/1024).toFixed(2)," MB"]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Upload\xe9:"})," ",new Date(ey.file.uploadedAt).toLocaleString()]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"\xc9tudiants:"})," ",ey.file.studentCount]})]})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[t.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Analyse des doublons"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Total doublons:"})," ",ey.duplicates.totalDuplicates]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Groupes de doublons:"})," ",ey.duplicates.totalGroups]})]})]})]}),ey.duplicates.duplicateGroups.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-800 mb-4",children:["Groupes de doublons (premiers"," ",Math.min(10,ey.duplicates.duplicateGroups.length),")"]}),t.jsx("div",{className:"space-y-3",children:ey.duplicates.duplicateGroups.slice(0,10)?.map((e,s)=>t.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("p",{className:"font-medium text-red-800",children:["Matricule: ",e.matricule]}),t.jsxs(O.C,{variant:"destructive",children:[e.count," copies"]})]}),t.jsxs("div",{className:"grid gap-2",children:[e.students.slice(0,3)?.map((e,s)=>t.jsxs("div",{className:"text-xs bg-white p-2 rounded border",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Nom:"})," ",e.nom_complet]}),t.jsxs("p",{children:[t.jsx("strong",{children:"\xc9cole:"})," ",e.ecole]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Moyenne:"})," ",e.moyenne]}),t.jsxs("p",{children:[t.jsx("strong",{children:"D\xe9cision:"})," ",e.decision_text]})]},s)),e.students.length>3&&t.jsxs("p",{className:"text-xs text-gray-500",children:["... et ",e.students.length-3," autres copies"]})]})]},s))})]}),ey.students&&ey.students.length>0&&(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Aper\xe7u des \xe9tudiants (premiers 10)"}),t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)(el.iA,{children:[t.jsx(el.xD,{children:(0,t.jsxs)(el.SC,{children:[t.jsx(el.ss,{children:"Matricule"}),t.jsx(el.ss,{children:"Nom"}),t.jsx(el.ss,{children:"\xc9cole"}),t.jsx(el.ss,{children:"Moyenne"}),t.jsx(el.ss,{children:"D\xe9cision"})]})}),t.jsx(el.RM,{children:ey.students.slice(0,10)?.map((e,s)=>t.jsxs(el.SC,{children:[t.jsx(el.pj,{className:"font-mono text-xs",children:e.matricule}),t.jsx(el.pj,{className:"text-sm",children:e.nom_complet}),t.jsx(el.pj,{className:"text-sm",children:e.ecole}),t.jsx(el.pj,{className:"text-sm",children:e.moyenne}),t.jsx(el.pj,{children:t.jsx(O.C,{variant:e.admis?"default":"secondary",children:e.decision_text})})]},s))})]})})]})]})})]}),er&&(0,t.jsxs)(R.Zb,{className:`shadow-lg ${"SUCCESS"===er.status?"border-blue-200":"border-red-200"}`,children:[t.jsx(R.Ol,{children:(0,t.jsxs)(R.ll,{className:`flex items-center text-lg sm:text-xl lg:text-2xl ${"SUCCESS"===er.status?"text-blue-700":"text-red-700"}`,children:[t.jsx(m.Z,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2"}),"Informations de R\xe9gion et Environnement"]})}),(0,t.jsxs)(R.aY,{children:["SUCCESS"===er.status&&er.data&&(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Vercel"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"R\xe9gion:"})," ",er.data.vercelRegion]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Environnement:"})," ",er.data.vercelEnv]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"URL:"})," ",er.data.vercelUrl]})]})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[t.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"AWS Lambda"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"R\xe9gion AWS:"})," ",er.data.awsRegion]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"M\xe9moire:"})," ",er.data.lambdaMemorySize,"MB"]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Runtime:"})," ",er.data.awsExecutionEnv]})]})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[t.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Syst\xe8me"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Node.js:"})," ",er.data.nodeVersion]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Plateforme:"})," ",er.data.platform]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Architecture:"})," ",er.data.architecture]})]})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-3 sm:p-4 rounded-lg border border-purple-200 sm:col-span-2 lg:col-span-2",children:[t.jsx("h4",{className:"font-semibold text-purple-800 mb-2 text-sm sm:text-base",children:"Utilisation M\xe9moire"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"RSS:"})," ",Math.round(er.data.memoryUsage.rss/1024/1024),"MB"]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Heap Total:"})," ",Math.round(er.data.memoryUsage.heapTotal/1024/1024),"MB"]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Heap Used:"})," ",Math.round(er.data.memoryUsage.heapUsed/1024/1024),"MB"]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"External:"})," ",Math.round(er.data.memoryUsage.external/1024/1024),"MB"]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2 text-sm sm:text-base",children:"Temps"}),(0,t.jsxs)("div",{className:"space-y-1 text-xs sm:text-sm",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Timezone:"})," ",er.data.timezone]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Uptime:"})," ",Math.round(er.data.uptime),"s"]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Timestamp:"})," ",new Date(er.data.timestamp).toLocaleDateString()]})]})]})]}),er.error&&t.jsx("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:(0,t.jsxs)("p",{className:"text-red-600",children:[t.jsx("strong",{children:"Erreur:"})," ",er.error]})})]})]}),es&&(0,t.jsxs)(R.Zb,{className:`shadow-lg ${"OK"===es.status?"border-green-200":"border-red-200"}`,children:[t.jsx(R.Ol,{children:(0,t.jsxs)(R.ll,{className:`flex items-center ${"OK"===es.status?"text-green-700":"text-red-700"}`,children:[t.jsx(c,{className:"h-6 w-6 mr-2"}),"Test de Connexion API"]})}),t.jsx(R.aY,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Status:"})," ",es.status]}),es.tests&&(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Environment:"})," ",es.tests.environment]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Region:"})," ",es.tests.vercelRegion]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Memory:"})," ",JSON.stringify(es.tests.memoryUsage)]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Runtime:"})," ",es.tests.runtime]})]}),es.error&&(0,t.jsxs)("p",{className:"text-red-600",children:[t.jsx("strong",{children:"Erreur:"})," ",es.error]})]})})]}),(0,t.jsxs)(R.Zb,{className:"shadow-lg border-primary-200",children:[(0,t.jsxs)(R.Ol,{children:[(0,t.jsxs)(R.ll,{className:"flex items-center text-lg sm:text-xl lg:text-2xl text-primary-700",children:[t.jsx(j.Z,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2"}),"S\xe9lectionner l'Ann\xe9e et le Type d'Examen"]}),t.jsx(R.SZ,{className:"text-sm sm:text-base",children:"Choisissez l'ann\xe9e et le type d'examen pour lesquels vous souhaitez t\xe9l\xe9charger ou g\xe9rer les donn\xe9es."})]}),(0,t.jsxs)(R.aY,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{htmlFor:"year-select",className:"text-sm font-medium text-gray-700",children:"Ann\xe9e"}),(0,t.jsxs)(X.Ph,{value:$.toString(),onValueChange:e=>q(Number.parseInt(e)),children:[t.jsx(X.i4,{className:"w-full border-primary-300 focus:border-primary-500 focus:outline-none",children:t.jsx(X.ki,{placeholder:"Choisir une ann\xe9e..."})}),t.jsx(X.Bw,{children:[2022,2023,2024,2025].map(e=>t.jsx(X.Ql,{value:e.toString(),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{htmlFor:"exam-type-select",className:"text-sm font-medium text-gray-700",children:"Type d'Examen"}),(0,t.jsxs)(X.Ph,{value:`${_}-${eT||"NONE"}-${$}`,onValueChange:e=>{let[s,a,t]=e.split("-");V(s),ek("NONE"===a?null:a),q(Number.parseInt(t))},children:[t.jsx(X.i4,{className:"w-full border-primary-300 focus:border-primary-500 focus:outline-none",children:t.jsx(X.ki,{placeholder:"Choisir un type..."})}),t.jsx(X.Bw,{children:eO?.map(e=>t.jsxs(X.Ql,{value:`${e.code}-${e.sessionType||"NONE"}-${e.year}`,children:[e.name," (",e.year,")",e.sessionType?` - ${"NORMALE"===e.sessionType?"Session Normale":"COMPLEMENTAIRE"===e.sessionType?"Session Compl\xe9mentaire":"Aucune session"}`:""]},`${e.code}-${e.sessionType}-${e.year}`))})]})]}),"BAC"===_&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{htmlFor:"session-type-select",className:"text-sm font-medium text-gray-700",children:"Type de Session"}),(()=>{let e=eO.find(e=>e.code===_&&e.year===$),s=e?.sessionType;return s?(0,t.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(N.Z,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-green-800",children:["Session automatiquement d\xe9finie: ",s]})]}),(0,t.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["D\xe9finie dans le type d'examen \"",e.name,'"']})]}):(0,t.jsxs)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(u,{className:"h-4 w-4 text-yellow-600"}),t.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Aucune session d\xe9finie"})]}),t.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Veuillez s\xe9lectionner un type d'examen BAC avec session d\xe9finie"})]})})()]})]}),t.jsx("div",{className:"mt-4 p-3 bg-primary-50 rounded-lg border border-primary-200",children:(0,t.jsxs)("div",{className:"text-sm text-gray-600 text-center sm:text-left",children:["S\xe9lection actuelle:"," ",(0,t.jsxs)("span",{className:"font-semibold text-primary-600",children:[_," ",$,eT&&(()=>{let e="NORMALE"===eT?"Session Normale":"COMPLEMENTAIRE"===eT?"Session Compl\xe9mentaire":eT;return` - ${e}`})()]})]})})]})]}),(0,t.jsxs)(R.Zb,{className:"shadow-lg border-blue-200",children:[(0,t.jsxs)(R.Ol,{children:[(0,t.jsxs)(R.ll,{className:"flex flex-col sm:flex-row sm:items-center text-lg sm:text-xl lg:text-2xl text-blue-700 space-y-2 sm:space-y-0",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(y,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2"}),(0,t.jsxs)("span",{children:["T\xe9l\xe9charger Excel - ",_," ",$,eT&&` - ${"NORMALE"===eT?"Session Normale":"Session Compl\xe9mentaire"}`]})]}),"mapping"===ec&&t.jsx(O.C,{variant:"secondary",className:"sm:ml-2 self-start sm:self-center",children:"\xc9tape 2/3: Mappage"}),"processing"===ec&&t.jsx(O.C,{variant:"secondary",className:"sm:ml-2 self-start sm:self-center",children:"\xc9tape 3/3: Traitement"})]}),(0,t.jsxs)(R.SZ,{className:"text-sm sm:text-base",children:["upload"===ec&&(0,t.jsxs)(t.Fragment,{children:["T\xe9l\xe9chargez votre fichier RES-",_,"-",$,"-FINALE.xlsx contenant les r\xe9sultats des \xe9tudiants. ",t.jsx("strong",{children:"Stockage: PostgreSQL Database"})]}),"mapping"===ec&&t.jsx(t.Fragment,{children:"Mappez les colonnes de votre fichier Excel aux champs requis. Les suggestions automatiques sont bas\xe9es sur les noms de colonnes courants."}),"processing"===ec&&t.jsx(t.Fragment,{children:"Traitement et stockage des donn\xe9es en cours. Veuillez patienter..."})]})]}),(0,t.jsxs)(R.aY,{className:"space-y-4 sm:space-y-6",children:["upload"===ec&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"border-2 border-dashed border-blue-300 rounded-lg p-4 sm:p-6 lg:p-8 text-center hover:border-blue-400 transition-colors bg-blue-50",children:[t.jsx(f,{className:"h-8 w-8 sm:h-10 sm:w-10 lg:h-12 lg:w-12 text-blue-400 mx-auto mb-4"}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-base sm:text-lg font-medium text-gray-700",children:P?(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{className:"text-green-600",children:"✓"})," ",t.jsx("span",{className:"break-all",children:P.name})," (",(P.size/1024/1024).toFixed(2),"MB)"]}):"Choisir un fichier Excel"}),(0,t.jsxs)("p",{className:"text-xs sm:text-sm text-gray-500 px-2",children:["Supporte les fichiers .xlsx et .xls (Maximum 4MB)",t.jsx("br",{className:"hidden sm:block"}),t.jsx("span",{className:"block sm:inline",children:"Types MIME accept\xe9s: Excel, application/octet-stream"}),t.jsx("br",{}),t.jsx("span",{className:"text-purple-600 font-medium",children:"\uD83D\uDCE6 Stockage: Base de donn\xe9es PostgreSQL"})]})]}),t.jsx("input",{type:"file",accept:".xlsx,.xls,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,application/octet-stream",onChange:e=>{let s=e.target.files?.[0];if(s){if(J(null),ex(null),eu({}),em("upload"),s.size>52428800){J({success:!1,message:`Fichier trop volumineux. Taille maximum: 50MB. Votre fichier: ${(s.size/1024/1024).toFixed(2)}MB`});return}let e=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/octet-stream",".xlsx",".xls"],a=s.name?.toLowerCase(),t=a.endsWith(".xlsx")||a.endsWith(".xls"),l=e?.includes(s.type);if(console.log("File validation:",{name:s.name,type:s.type,size:s.size,hasValidExtension:t,hasValidMimeType:l}),!t&&!l){J({success:!1,message:`Type de fichier invalide. Veuillez s\xe9lectionner un fichier Excel (.xlsx ou .xls). 
                   Fichier re\xe7u: ${s.name} (${s.type})`,details:{fileName:s.name,mimeType:s.type,validTypes:e}});return}L(s),console.log("File selected successfully:",{name:s.name,size:s.size,type:s.type})}},className:"mt-4 block w-full text-xs sm:text-sm text-gray-500 file:mr-2 sm:file:mr-4 file:py-1 sm:file:py-2 file:px-2 sm:file:px-4 file:rounded-full file:border-0 file:text-xs sm:file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 focus:outline-none"})]}),t.jsx("div",{className:"space-y-3 sm:space-y-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsx(I.z,{onClick:eH,disabled:!P||ep,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-sm sm:text-base",children:ep?(0,t.jsxs)(t.Fragment,{children:[t.jsx(h.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2 animate-spin"}),t.jsx("span",{className:"hidden sm:inline",children:"Analyse en cours..."}),t.jsx("span",{className:"sm:hidden",children:"Analyse..."})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(p,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Analyser le fichier Excel"}),t.jsx("span",{className:"sm:hidden",children:"Analyser Excel"})]})}),(0,t.jsxs)(I.z,{onClick:eW,variant:"destructive",disabled:ep,className:"text-sm sm:text-base",children:[t.jsx(g,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),(0,t.jsxs)("span",{className:"hidden sm:inline",children:["Effacer ",_," ",$]}),t.jsx("span",{className:"sm:hidden",children:"Effacer"})]})]})})]}),"mapping"===ec&&eo&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-semibold text-blue-800 mb-2 text-sm sm:text-base",children:"Fichier analys\xe9:"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 text-xs sm:text-sm",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Nom:"})," ",t.jsx("span",{className:"break-all",children:eo.fileName})]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Taille:"})," ",(eo.fileSize/1024/1024).toFixed(2),"MB"]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Lignes:"})," ",eo.totalRows]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Colonnes:"})," ",eo.columns.length]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Mappage des colonnes:"}),t.jsx("div",{className:"grid gap-3 sm:gap-4",children:eo.requiredFields?.map(e=>t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 sm:gap-4 items-start p-3 sm:p-4 bg-gray-50 rounded-lg border",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx(et,{className:"font-medium text-gray-700 text-sm sm:text-base",children:e.field}),t.jsx("p",{className:"text-xs text-gray-500",children:e.description}),["matricule","nom_complet"].includes(e.field)||"BAC"===_&&["section","moyenne","decision","ecole","etablissement"].includes(e.field)||"BREVET"===_&&["moyenne","decision","ecole","etablissement"].includes(e.field)||"CONCOURS"===_&&["score","ecole","etablissement"].includes(e.field)?t.jsx(O.C,{variant:"destructive",className:"mt-1 text-xs",children:"Obligatoire"}):t.jsx(O.C,{variant:"secondary",className:"mt-1 text-xs",children:"Optionnel"})]}),t.jsx("div",{children:t.jsxs(X.Ph,{value:eh[e.field]||"__none__",onValueChange:s=>eY(e.field,s),children:[t.jsx(X.i4,{className:"w-full text-sm",children:t.jsx(X.ki,{placeholder:"S\xe9lectionner une colonne..."})}),t.jsxs(X.Bw,{children:[t.jsx(X.Ql,{value:"__none__",children:"-- Aucune --"}),eo.columns?.map(e=>t.jsx(X.Ql,{value:e,children:e},e))]})]})}),t.jsx("div",{className:"text-xs sm:text-sm text-gray-600",children:eh[e.field]&&t.jsxs("div",{className:"bg-white p-2 rounded border",children:[t.jsx("strong",{children:"Exemple:"})," ",t.jsx("span",{className:"break-all",children:eo.sampleData[0]?.[eh[e.field]]||"N/A"})]})})]},e.field))})]}),"CONCOURS"===_&&(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Param\xe8tres de seuil pour CONCOURS:"}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx(m.Z,{className:"h-4 w-4 text-blue-600"}),t.jsx("h5",{className:"font-medium text-blue-800",children:"Seuil global"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(et,{htmlFor:"global-threshold",className:"text-sm text-blue-700",children:"Seuil minimum (pour tous les wilayas)"}),t.jsx(ee.I,{id:"global-threshold",type:"number",min:"0",max:"20",step:"0.01",value:eM,onChange:e=>ez(parseFloat(e.target.value)),placeholder:"10.0",className:"mt-1"})]}),t.jsx("div",{className:"flex items-end",children:(0,t.jsxs)("p",{className:"text-xs text-blue-600",children:["Les \xe9tudiants avec un score ≥ ",eM," seront consid\xe9r\xe9s comme admis"]})})]})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(b.Z,{className:"h-4 w-4 text-green-600"}),t.jsx("h5",{className:"font-medium text-green-800",children:"Seuils par wilaya (optionnel)"})]}),(0,t.jsxs)(I.z,{variant:"outline",size:"sm",onClick:()=>eR([...eI,{wilaya:"",threshold:eM}]),className:"text-xs",children:[t.jsx(v,{className:"h-3 w-3 mr-1"}),"Ajouter wilaya"]})]}),eI.length>0?t.jsx("div",{className:"space-y-3",children:eI.map((e,s)=>(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 items-end",children:[(0,t.jsxs)("div",{children:[t.jsx(et,{className:"text-sm text-green-700",children:"Wilaya"}),t.jsx(ee.I,{value:e.wilaya,onChange:e=>{let a=[...eI];a[s].wilaya=e.target.value,eR(a)},placeholder:"Nom du wilaya",className:"mt-1"})]}),(0,t.jsxs)("div",{children:[t.jsx(et,{className:"text-sm text-green-700",children:"Seuil"}),t.jsx(ee.I,{type:"number",min:"0",max:"20",step:"0.01",value:e.threshold,onChange:e=>{let a=[...eI];a[s].threshold=parseFloat(e.target.value),eR(a)},placeholder:"10.0",className:"mt-1"})]}),t.jsx("div",{children:t.jsx(I.z,{variant:"outline",size:"sm",onClick:()=>{eR(eI.filter((e,a)=>a!==s))},className:"text-red-600 hover:text-red-700",children:t.jsx(g,{className:"h-3 w-3"})})})]},s))}):t.jsx("p",{className:"text-sm text-green-600",children:"Aucun seuil sp\xe9cifique par wilaya d\xe9fini. Le seuil global sera utilis\xe9."})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Aper\xe7u des donn\xe9es (3 premi\xe8res lignes):"}),t.jsx("div",{className:"lg:hidden space-y-3",children:eo.sampleData?.slice(0,3).map((e,s)=>t.jsx(R.Zb,{className:"border border-gray-200",children:t.jsx(R.aY,{className:"p-3",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Ligne ",s+1]}),eo.columns.slice(0,6).map(s=>t.jsxs("div",{className:"flex justify-between text-xs",children:[t.jsxs("span",{className:"font-medium text-gray-600 truncate mr-2",children:[s,":"]}),t.jsx("span",{className:"text-gray-900 break-all",children:e[s]||""})]},s)),eo.columns.length>6&&t.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["... et ",eo.columns.length-6," ","autres colonnes"]})]})})},s))}),t.jsx("div",{className:"hidden lg:block overflow-x-auto",children:(0,t.jsxs)(el.iA,{children:[t.jsx(el.xD,{children:(0,t.jsxs)(el.SC,{children:[eo.columns.slice(0,8)?.map(e=>t.jsx(el.ss,{className:"text-xs",children:e},e)),eo.columns.length>8&&t.jsx(el.ss,{className:"text-xs",children:"..."})]})}),t.jsx(el.RM,{children:eo.sampleData?.map((e,s)=>t.jsxs(el.SC,{children:[eo.columns.slice(0,8)?.map(s=>t.jsx(el.pj,{className:"text-xs max-w-32 truncate",children:e[s]||""},s)),eo.columns.length>8&&t.jsx(el.pj,{className:"text-xs",children:"..."})]},s))})]})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,t.jsxs)(I.z,{onClick:()=>{em("upload"),ex(null),eu({}),L(null),J(null)},variant:"outline",className:"text-sm sm:text-base",children:[t.jsx(w.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Retour"]}),(0,t.jsxs)(I.z,{onClick:eG,className:"flex-1 bg-green-600 hover:bg-green-700 text-sm sm:text-base",children:[t.jsx(E,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Traiter avec ce mappage"}),t.jsx("span",{className:"sm:hidden",children:"Traiter"}),t.jsx(C,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-2"})]})]})]}),"processing"===ec&&t.jsx(t.Fragment,{children:H&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsxs)("span",{children:["Traitement et stockage en base de donn\xe9es pour"," ",_," ",$,"..."]}),(0,t.jsxs)("span",{children:[G,"%"]})]}),t.jsx(K,{value:G,className:"w-full"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:[t.jsx(h.Z,{className:"h-3 w-3 animate-spin"}),t.jsx("span",{children:"Traitement Excel + Stockage base de donn\xe9es - Cela peut prendre plusieurs minutes..."})]})]})})]})]}),(0,t.jsxs)(R.Zb,{className:"shadow-lg border-green-200",children:[(0,t.jsxs)(R.Ol,{children:[(0,t.jsxs)(R.ll,{className:"flex items-center justify-between text-lg sm:text-xl lg:text-2xl text-green-700",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(S.Z,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2"}),"Gestion des Types d'Examen"]}),t.jsx(I.z,{onClick:()=>eP(!eU),variant:"outline",size:"sm",className:"border-green-300 text-green-600 hover:bg-green-50",children:eU?"Masquer":"Afficher"})]}),t.jsx(R.SZ,{className:"text-sm sm:text-base",children:"Cr\xe9er et g\xe9rer les types d'examen disponibles dans le syst\xe8me."})]}),eU&&(0,t.jsxs)(R.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{className:"text-sm font-medium text-gray-700",children:"Nom du Type d'Examen"}),t.jsx(ee.I,{id:"examTypeName",placeholder:"Ex: Concours National",className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{className:"text-sm font-medium text-gray-700",children:"Code"}),t.jsx(ee.I,{id:"examTypeCode",placeholder:"Ex: CONCOURS",className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{className:"text-sm font-medium text-gray-700",children:"Ann\xe9e"}),t.jsx(ee.I,{id:"examTypeYear",type:"number",placeholder:"2025",className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{className:"text-sm font-medium text-gray-700",children:"Session (pour BAC uniquement)"}),(0,t.jsxs)(X.Ph,{value:eD,onValueChange:eA,children:[t.jsx(X.i4,{className:"w-full",children:t.jsx(X.ki,{placeholder:"Choisir une session"})}),(0,t.jsxs)(X.Bw,{children:[t.jsx(X.Ql,{value:"NONE",children:"Aucune (non-BAC)"}),t.jsx(X.Ql,{value:"NORMALE",children:"Session Normale"}),t.jsx(X.Ql,{value:"COMPLEMENTAIRE",children:"Session Compl\xe9mentaire"})]})]}),t.jsx("p",{className:"text-xs text-gray-500",children:"Pour BAC, la session est obligatoire pour diff\xe9rencier les examens"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{className:"text-sm font-medium text-gray-700",children:"Description"}),t.jsx(ee.I,{id:"examTypeDescription",placeholder:"Description du type d'examen...",className:"w-full"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"hasSections",className:"rounded border-gray-300"}),t.jsx(et,{htmlFor:"hasSections",className:"text-sm",children:"A des sections"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"hasDecision",defaultChecked:!0,className:"rounded border-gray-300"}),t.jsx(et,{htmlFor:"hasDecision",className:"text-sm",children:"A des d\xe9cisions"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"requiresThreshold",className:"rounded border-gray-300"}),t.jsx(et,{htmlFor:"requiresThreshold",className:"text-sm",children:"N\xe9cessite un seuil"})]})]}),t.jsx(I.z,{onClick:()=>{console.log("Button clicked!");let e=document.getElementById("examTypeName"),s=document.getElementById("examTypeCode"),a=document.getElementById("examTypeYear"),t=document.getElementById("examTypeDescription"),l=document.getElementById("hasSections"),r=document.getElementById("hasDecision"),i=document.getElementById("requiresThreshold");console.log("Elements found:",{nameElement:!!e,codeElement:!!s,yearElement:!!a,descriptionElement:!!t,hasSectionsElement:!!l,hasDecisionElement:!!r,requiresThresholdElement:!!i,sessionTypeElement:!!document.getElementById("examTypeSession")});let n=e?.value,d=s?.value,c=a?.value,m=t?.value,o=l?.checked,x=r?.checked,h=i?.checked;if(console.log("Form data:",{name:n,code:d,year:c,description:m,hasSections:o,hasDecision:x,requiresThreshold:h,sessionType:eD}),!n||!d||!c){J({success:!1,message:"Le nom, le code et l'ann\xe9e sont requis"});return}if("BAC"===d&&(!eD||"NONE"===eD)){J({success:!1,message:"Pour les examens BAC, la session est obligatoire"});return}console.log("Calling createExamType with:",{name:n,code:d,year:c,description:m,hasSections:o,hasDecision:x,requiresThreshold:h,sessionType:eD}),e2({name:n,code:d,year:c,description:m,hasSections:o,hasDecision:x,requiresThreshold:h,sessionType:"NONE"===eD?null:eD||null})},className:"w-full bg-green-600 hover:bg-green-700 text-white",children:"Cr\xe9er Type d'Examen"}),(0,t.jsxs)("div",{className:"mt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Types d'Examen Existants"}),0===eO.length?(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(S.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("p",{children:"Aucun type d'examen cr\xe9\xe9"})]}):t.jsx("div",{className:"space-y-3",children:eO.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200 hover:border-green-300 transition-colors",children:[t.jsx("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(O.C,{variant:"outline",className:"bg-green-50 text-green-700 border-green-300",children:e.code}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Ann\xe9e: ",e.year," • ",e.description||"Aucune description",e.sessionType&&` • Session: ${e.sessionType}`]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-1",children:[e.hasSections&&t.jsx(O.C,{variant:"secondary",className:"text-xs",children:"Sections"}),e.hasDecision&&t.jsx(O.C,{variant:"secondary",className:"text-xs",children:"D\xe9cisions"}),e.requiresThreshold&&t.jsx(O.C,{variant:"secondary",className:"text-xs",children:"Seuil"}),e.isActive?t.jsx(O.C,{className:"bg-green-100 text-green-800 text-xs",children:"Actif"}):t.jsx(O.C,{variant:"destructive",className:"text-xs",children:"Inactif"}),e.isDefault&&t.jsx(O.C,{className:"bg-blue-100 text-blue-800 text-xs",children:"Par D\xe9faut"})]})]})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[!e.isDefault&&t.jsx(I.z,{onClick:()=>e3(e.id),size:"sm",variant:"outline",className:"h-8 px-2 border-blue-300 text-blue-600 hover:bg-blue-50",title:"D\xe9finir par d\xe9faut",children:t.jsx(T.Z,{className:"h-3 w-3"})}),t.jsx(I.z,{onClick:()=>e1(e.id),size:"sm",variant:"outline",className:"h-8 w-8 p-0 border-red-300 text-red-600 hover:bg-red-50",children:t.jsx(g,{className:"h-3 w-3"})})]})]},e.id))})]})]})]}),(0,t.jsxs)(R.Zb,{className:"shadow-lg border-purple-200",children:[(0,t.jsxs)(R.Ol,{children:[(0,t.jsxs)(R.ll,{className:"flex items-center justify-between text-lg sm:text-xl lg:text-2xl text-purple-700",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(k,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2"}),"Gestion du Slider d'Images"]}),t.jsx(I.z,{onClick:()=>e$(!eL),variant:"outline",size:"sm",className:"border-purple-300 text-purple-600 hover:bg-purple-50",children:eL?"Masquer":"Afficher"})]}),t.jsx(R.SZ,{className:"text-sm sm:text-base",children:"G\xe9rer les images du slider de la page d'accueil."})]}),eL&&(0,t.jsxs)(R.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{className:"text-sm font-medium text-gray-700",children:"Titre (optionnel)"}),t.jsx(ee.I,{id:"sliderTitle",placeholder:"Titre de l'image...",className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{className:"text-sm font-medium text-gray-700",children:"URL de l'Image"}),t.jsx(ee.I,{id:"sliderImageUrl",placeholder:"https://example.com/image.jpg",className:"w-full"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{className:"text-sm font-medium text-gray-700",children:"Description (optionnel)"}),t.jsx(ee.I,{id:"sliderDescription",placeholder:"Description de l'image...",className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{className:"text-sm font-medium text-gray-700",children:"Ordre d'affichage"}),t.jsx(ee.I,{id:"sliderOrder",type:"number",min:"0",placeholder:"0",className:"w-full"})]}),t.jsx(I.z,{onClick:()=>{let e=document.getElementById("sliderTitle")?.value,s=document.getElementById("sliderImageUrl")?.value,a=document.getElementById("sliderDescription")?.value,t=parseInt(document.getElementById("sliderOrder")?.value||"0");if(!s){J({success:!1,message:"L'URL de l'image est requise"});return}e4({title:e,imageUrl:s,description:a,order:t})},className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:"Ajouter Image au Slider"}),eZ.length>0&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-800 mb-4 text-sm sm:text-base",children:["Images du Slider (",eZ.length,")"]}),t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)(el.iA,{children:[t.jsx(el.xD,{children:(0,t.jsxs)(el.SC,{children:[t.jsx(el.ss,{className:"w-16",children:"Image"}),t.jsx(el.ss,{children:"Titre"}),t.jsx(el.ss,{children:"Description"}),t.jsx(el.ss,{className:"w-20",children:"Ordre"}),t.jsx(el.ss,{className:"w-20",children:"Statut"}),t.jsx(el.ss,{className:"w-32",children:"Actions"})]})}),t.jsx(el.RM,{children:eZ.sort((e,s)=>e.order-s.order).map(e=>(0,t.jsxs)(el.SC,{children:[t.jsx(el.pj,{children:t.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden border",children:t.jsx("img",{src:e.imageUrl,alt:e.title||"Slider image",className:"w-full h-full object-cover",onError:e=>{e.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 48 48'%3E%3Crect width='48' height='48' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%236b7280' font-size='8'%3EImage%3C/text%3E%3C/svg%3E"}})})}),t.jsx(el.pj,{children:(0,t.jsxs)("div",{className:"max-w-xs",children:[t.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.title||"Sans titre"}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.imageUrl})]})}),t.jsx(el.pj,{children:t.jsx("p",{className:"text-sm text-gray-600 max-w-xs truncate",children:e.description||"Aucune description"})}),t.jsx(el.pj,{children:t.jsx(O.C,{variant:"outline",className:"text-xs",children:e.order})}),t.jsx(el.pj,{children:t.jsx(O.C,{variant:e.isActive?"default":"secondary",className:`text-xs ${e.isActive?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.isActive?"Actif":"Inactif"})}),t.jsx(el.pj,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(I.z,{size:"sm",variant:"outline",onClick:()=>e7(e.id,e.isActive),className:"h-8 w-8 p-0",title:e.isActive?"D\xe9sactiver":"Activer",children:e.isActive?t.jsx(D,{className:"h-3 w-3"}):t.jsx(A,{className:"h-3 w-3"})}),t.jsx(I.z,{size:"sm",variant:"outline",onClick:()=>{document.getElementById("sliderTitle").value=e.title||"",document.getElementById("sliderImageUrl").value=e.imageUrl,document.getElementById("sliderDescription").value=e.description||"",document.getElementById("sliderOrder").value=e.order.toString();let s=document.querySelector('[onclick*="createSliderImage"]');s&&(s.textContent="Mettre \xe0 jour l'Image",s.onclick=()=>{let a=document.getElementById("sliderTitle")?.value,t=document.getElementById("sliderImageUrl")?.value,l=document.getElementById("sliderDescription")?.value,r=parseInt(document.getElementById("sliderOrder")?.value||"0");if(!t){J({success:!1,message:"L'URL de l'image est requise"});return}e5(e.id,{title:a,imageUrl:t,description:l,order:r}),s.textContent="Ajouter Image au Slider",s.onclick=()=>{let e=document.getElementById("sliderTitle")?.value,s=document.getElementById("sliderImageUrl")?.value,a=document.getElementById("sliderDescription")?.value,t=parseInt(document.getElementById("sliderOrder")?.value||"0");if(!s){J({success:!1,message:"L'URL de l'image est requise"});return}e4({title:e,imageUrl:s,description:a,order:t})},document.getElementById("sliderTitle").value="",document.getElementById("sliderImageUrl").value="",document.getElementById("sliderDescription").value="",document.getElementById("sliderOrder").value=""})},className:"h-8 w-8 p-0",title:"Modifier",children:t.jsx(M,{className:"h-3 w-3"})}),t.jsx(I.z,{size:"sm",variant:"outline",onClick:()=>e6(e.id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",title:"Supprimer",children:t.jsx(z,{className:"h-3 w-3"})})]})})]},e.id))})]})})]}),0===eZ.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(k,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("p",{className:"text-sm",children:"Aucune image du slider trouv\xe9e"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Ajoutez votre premi\xe8re image pour commencer"})]})]})]}),Q&&(0,t.jsxs)(R.Zb,{className:`shadow-lg ${Q.success?"border-green-200":"border-red-200"}`,children:[t.jsx(R.Ol,{children:(0,t.jsxs)(R.ll,{className:`flex items-center text-lg sm:text-xl lg:text-2xl ${Q.success?"text-green-700":"text-red-700"}`,children:[Q.success?t.jsx(N.Z,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2"}):t.jsx(AlertCircle,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2"}),Q.success?"T\xe9l\xe9chargement R\xe9ussi":"\xc9chec du T\xe9l\xe9chargement"]})}),(0,t.jsxs)(R.aY,{children:[t.jsx("p",{className:"mb-4 text-sm sm:text-base",children:Q.message}),!Q.success&&Q.details&&(0,t.jsxs)("div",{className:"bg-red-50 p-3 sm:p-4 rounded-lg border border-red-200 mb-4",children:[t.jsx("h4",{className:"font-semibold text-red-800 mb-2 text-sm sm:text-base",children:"D\xe9tails de l'erreur:"}),t.jsx("pre",{className:"text-xs text-red-700 overflow-auto break-all",children:JSON.stringify(Q.details,null,2)})]}),Q.success&&Q.stats&&(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"bg-green-50 p-3 sm:p-4 rounded-lg border border-green-200 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[t.jsx(N.Z,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 mr-2"}),t.jsx("h4",{className:"font-semibold text-green-800 text-sm sm:text-base",children:"Donn\xe9es upload\xe9es avec succ\xe8s !"})]}),t.jsx("p",{className:"text-green-700 text-xs sm:text-sm mb-3",children:"Les donn\xe9es ont \xe9t\xe9 stock\xe9es en base de donn\xe9es et sont maintenant disponibles sur le site."}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsxs)(I.z,{onClick:()=>window.open("/","_blank"),size:"sm",className:"bg-green-600 hover:bg-green-700 text-white text-xs sm:text-sm",children:[t.jsx(m.Z,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Voir sur le Site"]}),(0,t.jsxs)(I.z,{onClick:eV,size:"sm",variant:"outline",className:"border-green-300 text-green-600 hover:bg-green-50 text-xs sm:text-sm",children:[t.jsx(o,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),"Actualiser DB Info"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-3 sm:p-4 rounded-lg border border-blue-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-blue-600 font-medium",children:"Total \xc9tudiants"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-blue-700",children:Q?.stats?.totalStudents||0})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-3 sm:p-4 rounded-lg border border-green-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-green-600 font-medium",children:"Admis"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-green-700",children:Q?.stats?.admittedStudents||0}),(0,t.jsxs)("p",{className:"text-xs text-green-600",children:["(",Q?.stats?.admissionRate||0,"%)"]})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-3 sm:p-4 rounded-lg border border-purple-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-purple-600 font-medium",children:"Sections"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-purple-700",children:Q?.stats?.sections?.length||0})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-3 sm:p-4 rounded-lg border border-orange-200",children:[t.jsx("p",{className:"text-xs sm:text-sm text-orange-600 font-medium",children:"Moyenne G\xe9n\xe9rale"}),t.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-orange-700",children:Q?.stats?.averageScore||"0.00"})]})]}),Q?.details&&(0,t.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg border border-gray-200",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2 text-sm sm:text-base",children:"Informations du fichier et stockage:"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Nom:"})," ",t.jsx("span",{className:"break-all",children:Q.details.name})]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Taille:"})," ",((Q.details.size||0)/1024/1024).toFixed(2),"MB"]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Type:"})," ",Q.details.type||"N/A"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Stock\xe9:"})," ✅ Oui (Database PostgreSQL)"]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"Persistant:"})," ✅ Oui"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium mb-2 text-sm sm:text-base",children:"Sections (SERIE):"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Q?.stats?.sections?.map(e=>t.jsx(O.C,{variant:"secondary",className:"text-xs",children:e},e))||t.jsx("span",{className:"text-xs text-gray-500",children:"Aucune section"})})]}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium mb-2 text-sm sm:text-base",children:"Wilayas:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[Q?.stats?.wilayas?.slice(0,8)?.map(e=>t.jsx(O.C,{variant:"outline",className:"text-xs",children:e},e)),(Q?.stats?.wilayas?.length||0)>8&&(0,t.jsxs)(O.C,{variant:"outline",className:"text-xs",children:["+",(Q?.stats?.wilayas?.length||0)-8," ","autres"]}),(!Q?.stats?.wilayas||0===Q.stats.wilayas.length)&&t.jsx("span",{className:"text-xs text-gray-500",children:"Aucune wilaya"})]})]})]})]})]})]})]})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:(0,t.jsxs)(R.Zb,{className:"w-full max-w-md shadow-2xl border-blue-200",children:[(0,t.jsxs)(R.Ol,{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg p-6",children:[(0,t.jsxs)(R.ll,{className:"flex items-center text-2xl justify-center",children:[t.jsx(i,{className:"h-6 w-6 mr-2"}),"Connexion Dashboard"]}),t.jsx(R.SZ,{className:"text-blue-100 text-center",children:"Veuillez vous connecter pour acc\xe9der au dashboard administrateur"})]}),t.jsx(R.aY,{className:"p-6",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),U(""),"MedAhmed01"===a&&"Medahmed28233"===B?(s(!0),localStorage.setItem("adminAuthenticated","true")):U("Nom d'utilisateur ou mot de passe incorrect")},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Nom d'utilisateur"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(n,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(ee.I,{id:"username",type:"text",placeholder:"Entrez votre nom d'utilisateur",value:a,onChange:e=>r(e.target.value),className:"pl-10 border-gray-300 focus:border-blue-500 focus:ring-blue-500 focus:outline-none",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(et,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(ee.I,{id:"password",type:"password",placeholder:"Entrez votre mot de passe",value:B,onChange:e=>Z(e.target.value),className:"pl-10 border-gray-300 focus:border-blue-500 focus:ring-blue-500 focus:outline-none",required:!0})]})]}),F&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:F})}),t.jsx(I.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2",children:"Se connecter"})]})})]})})}},4283:(e,s,a)=>{"use strict";a.d(s,{RM:()=>d,SC:()=>c,iA:()=>i,pj:()=>o,ss:()=>m,xD:()=>n});var t=a(7247),l=a(8964),r=a(5008);let i=l.forwardRef(({className:e,...s},a)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:a,className:(0,r.cn)("w-full caption-bottom text-sm",e),...s})}));i.displayName="Table";let n=l.forwardRef(({className:e,...s},a)=>t.jsx("thead",{ref:a,className:(0,r.cn)("[&_tr]:border-b",e),...s}));n.displayName="TableHeader";let d=l.forwardRef(({className:e,...s},a)=>t.jsx("tbody",{ref:a,className:(0,r.cn)("[&_tr:last-child]:border-0",e),...s}));d.displayName="TableBody",l.forwardRef(({className:e,...s},a)=>t.jsx("tfoot",{ref:a,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let c=l.forwardRef(({className:e,...s},a)=>t.jsx("tr",{ref:a,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));c.displayName="TableRow";let m=l.forwardRef(({className:e,...s},a)=>t.jsx("th",{ref:a,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));m.displayName="TableHead";let o=l.forwardRef(({className:e,...s},a)=>t.jsx("td",{ref:a,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));o.displayName="TableCell",l.forwardRef(({className:e,...s},a)=>t.jsx("caption",{ref:a,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},7940:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(6323).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2752:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(6323).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9527:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(6323).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3389:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(5347).createProxy)(String.raw`D:\WORK\FREELANCER\student-result-upgraded\app\admin\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[9379,6256,7598,1381,4243],()=>a(7899));module.exports=t})();